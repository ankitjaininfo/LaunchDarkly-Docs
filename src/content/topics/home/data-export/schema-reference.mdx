---
path: /home/data-export/schema-reference
title: Data Export schema reference
description: This topic explains the schema of Data Export events, including feature, index, identify, summary, and custom events.
published: true
tags: ['schema', 'destination', 'event', 'data export']
---

## Overview

This topic explains the schema of Data Export events.

Data Export exposes the following kinds of events:

- `feature` events
- `index` events
- `identify` events
- `click` events
- `page view` events
- `custom` events
- `alias` events
- `summary` events. To export `summary` events, [contact Support](https://support.launchdarkly.com/hc/en-us/requests/new).
- `debug` events

LaunchDarkly no longer supports `alias` events for SDKs included in the contexts Early Access Program (EAP). LaunchDarkly continues to support sending and receiving `alias` events for older SDK versions and for SDKs not included in the EAP. For a list of SDKs that still support `alias` events, read [Aliasing users](/sdk/features/aliasing-users).

Some Data Export destinations have different event formatting schema. If you use mParticle or Segment as your event destination, we have specific documentation for their event schema:

- [mParticle schema reference](/home/data-export/mparticle-schema-reference)
- [Segment schema reference](/home/data-export/segment-schema-reference)

These events are described in more detail below.

## Event kinds

This table lists event kinds:

<Table>
  <TableHeader>
    <TableHeadCell>Description</TableHeadCell>
    <TableHeadCell>Event kind</TableHeadCell>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell>feature</TableCell>
      <TableCell>
        This event kind includes full-fidelity details of each individual feature flag evaluation. These are only
        present if you explicitly enable detailed tracking for a feature flag, or if you are using an older SDK.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>index</TableCell>
      <TableCell>
        This event kind contains the user attributes for a particular user, defined by a user key, when a feature flag
        evaluates the user. This event kind is not available for Segment or mParticle destinations. To export{' '}
        <code>index</code> events, <a href="https://support.launchdarkly.com/hc/en-us/requests/new">contact Support</a>.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>identify</TableCell>
      <TableCell>
        This event kind passes details about a user provided in an explicit <code>identify</code> call to the SDK. This
        event kind is not available for Segment or mParticle destinations.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>click</TableCell>
      <TableCell>
        This event kind is generated by the LaunchDarkly SDK when an end user clicks on an HTML element matching a CSS
        selector configured on an experiment metric.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>page view</TableCell>
      <TableCell>
        This event kind is generated by the LaunchDarkly SDK when an end user loads a page with URL matching a regular
        expression configured on an experiment metric.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>custom</TableCell>
      <TableCell>
        This event kind passes data provided in an explicit <code>track</code> call to the SDK.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>alias</TableCell>
      <TableCell>
        This event kind includes information necessary to correlate a user known by two different user keys, such as an
        anonymous user key and a logged-in user key.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>summary</TableCell>
      <TableCell>
        This event kind describes a roll-up of individual feature evaluations over an interval. To export{' '}
        <code>summary</code> events,{' '}
        <a href="https://support.launchdarkly.com/hc/en-us/requests/new">contact Support</a>.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>debug</TableCell>
      <TableCell>
        This event kind is similar to the <code>feature</code> event, except that it inlines the context value. This
        event kind is only sent if the <code>debugEventsUntilDate</code> attribute is set for a feature flag.
      </TableCell>
    </TableRow>
  </TableBody>
</Table>

<Callout intent="alert">
<CalloutTitle>mParticle and Segment schema differences</CalloutTitle>
<CalloutDescription>

The `index` and `identify` event kinds are **not available** for Segment and mParticle destinations.

</CalloutDescription>
</Callout>

## SDK versioning for events

Older SDKs always send `feature` events regardless of whether detailed tracking is enabled for that flag. Only newer SDKs generate the `summary` and `index` events described below.

Older SDKs will also send `user` attributes as an object inside `feature` events instead of just providing a "userKey" that can reference user data sent in a prior `index` event.

<Callout intent="info">
<CalloutTitle>Enabling detailed analytics events</CalloutTitle>
<CalloutDescription>

To receive `feature` events, in addition to `index`, `identify`, and `custom` events, check the **Send detailed events to data export destinations** checkbox on a flag's **Settings** tab or an environment's **Edit** panel. By default, LaunchDarkly does not export `summary` events. To export `summary` events, <a href="https://support.launchdarkly.com/hc/en-us/requests/new">contact Support</a>.

</CalloutDescription>
</Callout>

## Understanding event kind structures

LaunchDarkly sends each of these events as JSON files to your destinations.

All events have the following top level structure:

<CodeSample>
<CSTab label="Example event">

```json
{
  "project": "5744c96707c9900708000004",
  "environment": "578d1e02d2943862c52b9686",
  "event": {...},
  "version": 2,
}
```

</CSTab>
</CodeSample>

- `project`: The ID of the LaunchDarkly project associated with the event.
- `environment`: The ID of the LaunchDarkly environment associated with the event.
- `version`: The event version. Events sent from SDKs included in the contexts EAP are version `2`. Older events are version `1` and have different schemas.
- `event`: The event itself. It is an object with a structure described below, depending on the `kind` of event.

## Feature events

`Feature` events represent individual flag evaluations and are considered "full fidelity" events.

Here is an example `feature` event:

<CodeSample>
<CSTab label="Feature event example">

```json
{
  "kind": "feature",
  "creationDate": 1462220944000,
  "key": "flag-key-123abc",
  "variation": 0,
  "variationName": "my variation",
  "value": false,
  "default": false,
  "version": 42,
  "reason": {
    "kind": "FALLTHROUGH"
  },
  "prereqOf": "prereq-flag-key-123abc",
  "contextKeys": {
    "user": "Sandy",
    "anonymousUser": "123213421231"
  }
}
```

</CSTab>
<CSTab label="Version 1 feature event example">

```json
{
  "kind": "feature",
  "contextKind": "anonymousUser",
  "userKey": "user-key-123abc",
  "creationDate": 1462220944000,
  "key": "flag-key-123abc",
  "variation": 0,
  "variationName": "my variation",
  "value": false,
  "default": false,
  "version": 42,
  "reason": {
    "kind": "FALLTHROUGH"
  },
  "prereqOf": "prereq-flag-key-123abc"
}
```

</CSTab>
</CodeSample>

Here is a list of `feature` event properties:

- `kind`: The kind for a `feature` event is `feature`. An SDK only generates a `feature` event if the you set the `trackEvents` attribute of the flag to `true`. You can also control this with settings in the UI.
- `contextKind`: The kind of context which generated an event. This will only be `"anonymousUser"` for events generated on behalf of an anonymous user. It is omitted for events generated on behalf of a non-anonymous user.
- `userKey`: The key of the user object used in a feature flag evaluation. SDKs periodically transmit details for the `user` object used in a feature flag evaluation as reported by the "feature" event with a separate `index` event.
- `creationDate`: When the SDK requested the feature flag, at UNIX epoch time in milliseconds.
- `key`: The key of the feature flag requested.
- `variation`: The variation of the flag requested. The SDK stores flag variation values in an array. This value corresponds to the index of the variation the array. Boolean flags show as `0` or `1` for `true` and `false`, and other flag types are numbered starting with `0` for their different variations.
- `variationName`: The evaluated variation's name, if it exists. If the evaluated variation doesn't have a name, this field doesn't appear.
- `value`: The value of the feature flag returned by feature flag evaluation.
- `default`: (Optional) This value is set to `true` if feature flag evaluation failed, in which case the value returned was the default value passed to `variation`. If the `default` field is omitted, it is assumed to be `false`.
- `version`: The version of the evaluated feature flag.
- `reason`: (Optional) Included only if the flag being evaluated was in an experiment and the target was part of the experiment allocation, or if you called a [variation detail method](/sdk/concepts/evaluation-reasons).
  - Evaluations that were part of an experiment have the optional `inExperiment` attribute on the evaluation reason set to `true`. Evaluations that were not part of an experiment omit this attribute.
  - If you called a variation detail method, the `reason` property will be a JSON representation of the evaluation reason.
- `prereqOf`: attribute should be set to a flag key if this flag evaluation was only performed in order to determine whether the prerequisite values were met for the indicated flag.
- `contextKeys` (version 2 only): The keys of the `context` object used in a feature flag evaluation. SDKs periodically transmit details for the `context` object used in a feature flag evaluation as reported by the "feature" event with a separate `index` event.
- `contextKind` (version 1 only): The kind of context which generated an event. This will only be "anonymousUser" for events generated on behalf of an anonymous user. It is omitted for events generated on behalf of a non-anonymous user.
- `userKey` (version 1 only): userKey: The key of the user object used in a feature flag evaluation. SDKs periodically transmit details for the user object used in a feature flag evaluation as reported by the "feature" event with a separate `index` event.

## Index events

<Callout intent="info">
<CalloutTitle>Enabling <code>index</code> event exports</CalloutTitle>
<CalloutDescription>

By default, LaunchDarkly does not export `index` events. To export `index` events, [contact Support](https://support.launchdarkly.com/hc/en-us/requests/new).

</CalloutDescription>
</Callout>

Server-side SDKs send `index` events periodically to describe the attributes of users or contexts referenced by the "userKey" or "contextKey" in `feature` events.

An example `index` event is shown below:

<CodeSample>
<CSTab label="Index event example">

```json
{
  "kind": "index",
  "context": {
    "key": "context-key-123abc",
    "kind": "user",
    "name": "Sandy Smith",
    "jobFunction": "doctor",
    "moreComplex": {
      "city": "Springfield",
      "moreThanOne": [1, 2, 3]
    }
  },
  "creationDate": 1462220944000
}
```

</CSTab>
<CSTab label="Version 1 index event example">

```json
{
  "kind": "index",
  "user": {
    "key": "user-key-123abc",
    "custom": {
      "groups": ["microsoft", "google"]
    }
  },
  "creationDate": 1462220944000
}
```

</CSTab>
</CodeSample>

Here is a list of `index` event properties:

- `kind`: The kind of an `index` event is `index`.
- `context` (version 2 only): The same schema as `context` objects for feature flag evaluation.
- `creationDate`: The time this user or context was recorded at UNIX epoch time in milliseconds.
- `user` (version 1 only): The same schema as user objects for feature flag evaluation.

<Callout intent="info">
<CalloutTitle>Server-side SDKs determine when to send <code>index</code> events</CalloutTitle>
<CalloutDescription>

Server-side SDKs have internal logic that determines whether it is necessary to send an `index` event. SDKs do not create `index` events for every flag evaluation. If the SDKs identify the same user or context multiple times in succession, the SDK does not send multiple `index` events. The SDK identifies users and contexts based on the users' or contexts' keys.

</CalloutDescription>
</Callout>

Client-side SDKs do not send `index` events. Instead, Client-side SDKs send `identify` events when the SDK initializes, which include all of the user or context properties.

## Identify events

`identify` events are produced when the client application calls the `identify` SDK method. `identify` events have a similar structure to "index" events.

An example `identify` event is shown below:

<CodeSample>
<CSTab label="Identify event example">

```json
{
  "kind": "identify",
  "context": {
    "key": "context-key-123abc",
    "kind": "user",
    "name": "Sandy Smith",
    "jobFunction": "doctor",
    "moreComplex": {
      "city": "Springfield",
      "moreThanOne": [1, 2, 3]
    }
  },
  "creationDate": 1462220944000
}
```

</CSTab>
<CSTab label="Version 1 identify event example">

```json
{
  "kind": "identify",
  "user": {
    "key": "user-key-123abc",
    "custom": {
      "groups": ["microsoft", "google"]
    }
  },
  "creationDate": 1462220944000
}
```

</CSTab>
</CodeSample>

Here is a list of `identify` event properties:

- `kind`: The kind of an `identify` event is `identify`.
- `context` (version 2 only): The same schema as `context` objects for feature flag evaluation.
- `creationDate`: The time this user or context was recorded at UNIX epoch time in milliseconds.
- `user` (version 1 only): The same schema as `user` objects for feature flag evaluation.

## Click events

The JavaScript and React SDKs produce `click` events when an end user clicks on an HTML element matching a CSS selector configured on an experiment metric. To learn more, read [Click conversion metrics](/home/creating-experiments/metrics/click).

An example `click` event is shown below:

<CodeSample>
<CSTab label="Click event example">

```json
{
  "kind": "click",
  "key": "click-metric-key-123abc",
  "url": "https://example.com/",
  "creationDate": 16420388151234,
  "selector": "button.click-track"
  "contextKeys": {
    "user": "Sandy",
    "anonymousUser": "123213421231"
  }
}
```

</CSTab>
<CSTab label="Version 1 click event example">

```json
{
  "kind": "click",
  "key": "click-metric-key-123abc",
  "url": "https://example.com/",
  "creationDate": 1663175932675,
  "selector": ".input-search, .searchInputBar",
  "user": {
    "key": "user-key-123abc"
  }
}
```

</CSTab>
</CodeSample>

## Page view events

The JavaScript and React SDKs produce `pageview` events when an end user loads a page with URL matching a regular expression configured on an experiment metric. To learn more, read [Page view conversion metrics](/home/creating-experiments/metrics/page-view).

An example `pageview` event is shown below:

<CodeSample>
<CSTab label="Page view event example">

```json
{
  "kind": "pageview",
  "key": "page-view-metric-key-123abc",
  "url": "https://example.com/",
  "creationDate": 16420388151234,
  "contextKeys": {
    "user": "Sandy",
    "anonymousUser": "123213421231"
  }
}
```

</CSTab>
<CSTab label="Version 1 page view event example">

```json
{
  "kind": "pageview",
  "key": "page-view-metric-key-123abc",
  "url": "https://example.com/",
  "creationDate": 16420388151234,
  "contextKeys": {
    "user": "Sandy",
    "anonymousUser": "123213421231"
  }
}
```

</CSTab>
</CodeSample>

## Custom events

SDKs produce `custom` events when the client application calls the SDK's track method. To learn more, read [Sending custom events](/sdk/features/events).

<Callout intent="alert">
<CalloutTitle>mParticle and Segment schema differences</CalloutTitle>

<CalloutDescription>

The `data` event kind is **not available** for mParticle or Segment events.

</CalloutDescription>
</Callout>

An example `custom` event is shown below. Note that the `metricValue` field will
not appear if a metric value was not provided by the event.

<CodeSample>
<CSTab label="Custom event example">

```json
{
  "kind": "custom",
  "key": "custom-metric-key-123abc",
  "creationDate": 16420388151234,
  "data": { "arbitrary": "customer-provided-data" },
  "metricValue": 5,
  "contextKeys": {
    "user": "Sandy",
    "anonymousUser": "123213421231"
  }
}
```

</CSTab>
<CSTab label="Version 1 custom event example">

```json
{
  "kind": "custom",
  "key": "custom-event-key-123abc",
  "user": {
    "key": "user-key-123abc"
  },
  "creationDate": 1416003645758,
  "metricValue": 5,
  "data": {
    "custom": "value"
  }
}
```

</CSTab>
</CodeSample>

## Alias events

SDKs produce `alias` events when the client application calls the SDK's alias method. Client-side SDKs also emit them automatically when an anonymous user identifies as a non-anonymous user.

<Callout intent="alert">
<CalloutTitle>mParticle and Segment schema differences</CalloutTitle>
<CalloutDescription>

To read about how <code>alias</code> events function in mParticle and Segment destinations, read their respective schema references.

</CalloutDescription>
</Callout>

An example `alias` event is shown below:

<CodeSample>
<CSTab label="Alias event example">

```json
{
  "kind": "alias",
  "creationDate": 1600376029000,
  "key": "logged-in-user-key",
  "contextKind": "user",
  "previousKey": "logged-out-user-key",
  "previousContextKind": "anonymousUser"
}
```

</CSTab>
</CodeSample>

## Summary events

<Callout intent="info">
<CalloutTitle>Enabling <code>summary</code> event exports</CalloutTitle>
<CalloutDescription>

By default, we do not export <code>summary</code> events. To export <code>summary</code> events, [contact Support](https://support.launchdarkly.com/hc/en-us/requests/new).

</CalloutDescription>
</Callout>

SDKs send summary events periodically to describe a set of feature evaluations. Summary events include all feature evaluations, regardless of whether the `trackEvents` field was set for individual flags.

An example `summary` event is shown below:

<CodeSample>
<CSTab label="Summary event example">

```json
{
  "startDate": 1517350765387,
  "endDate": 1517350825243,
  "features": {
    "flag-key-123abc": {
      "default": "default-value",
      "counters": [
        {
          "value": "result-value",
          "version": 17,
          "count": 23,
          "variation": 1
        },
        {
          "value": "another-value",
          "version": 17,
          "count": 2,
          "variation": 0
        }
      ],
      "contextKinds": ["user", "device"]
    }
  }
}
```

</CSTab>
<CSTab label="Version 1 summary event example">

```json
{
  "startDate": 1517350765387,
  "endDate": 1517350825243,
  "features": {
    "flag-key-123abc": {
      "default": "default-value",
      "counters": [
        {
          "value": "result-value",
          "version": 17,
          "count": 23,
          "variation": 1
        },
        {
          "value": "another-value",
          "version": 17,
          "count": 2,
          "variation": 0
        }
      ]
    },
    "flag-key-456def": {
      "default": "some-other-result-value",
      "counters": [
        {
          "value": "some-other-result-value",
          "version": 19,
          "count": 29,
          "variation": null
        }
      ]
    },
    "flag-key789ghi": {
      "default": false,
      "counters": [
        {
          "unknown": true,
          "value": false,
          "count": 3
        }
      ]
    }
  }
}
```

</CSTab>
</CodeSample>

The `summary` event represents a set of feature flag evaluations occurring during an interval defined by `startDate` and `endDate`, sorted by feature flag.

Each feature flag includes the following details:

<Table>
  <TableHeader>
    <TableHeadCell>Field</TableHeadCell>
    <TableHeadCell>Meaning</TableHeadCell>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell>default</TableCell>
      <TableCell>
        The default value the SDK received for the feature, sampled at some point during the interval.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>startDate</TableCell>
      <TableCell>
        The timestamp of the first feature flag evaluation included in this packet. This value is a UNIX epoch time in
        milliseconds.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>endDate</TableCell>
      <TableCell>
        The timestamp of the last feature flag evaluation included in this packet. This value is a UNIX epoch time in
        milliseconds.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>counters</TableCell>
      <TableCell>A set of counters as described below.</TableCell>
    </TableRow>
  </TableBody>
</Table>

The `counters` field is an array of objects with the following contents:

<Table>
  <TableHeader>
    <TableHeadCell>Field</TableHeadCell>
    <TableHeadCell>Meaning</TableHeadCell>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell>version</TableCell>
      <TableCell>The version of the feature flag evaluated.</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>value</TableCell>
      <TableCell>The value the SDK returned for the flag evaluation.</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>variation</TableCell>
      <TableCell>
        A zero-based index into the list of variations. If LaunchDarkly does not provide this field, it means the SDK
        returned a fallback value.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>count</TableCell>
      <TableCell>
        The number of times this value/version/variation combination was an evaluation result during the interval.
      </TableCell>
    </TableRow>
    <TableRow>
      <TableCell>unknown (optional)</TableCell>
      <TableCell>
        If this is present and true, it indicates that no flag by this name was known to LaunchDarkly, and therefore the
        SDK returned the fallback value.
      </TableCell>
    </TableRow>
  </TableBody>
</Table>
