---
path: /sdk/server-side/python
title: Python SDK reference
description: This topic documents how to get started with the Python SDK, and links to reference information on all of the supported features.
tags: ['python', 'sdk', 'server-side']
published: true
---

<Callout intent="info">
<CalloutTitle>Version 8 of the Python SDK replaces users with contexts</CalloutTitle>
<CalloutDescription>

A context is a generalized way of referring to the people, services, machines, or other resources that encounter feature flags in your product.

You can upgrade your SDK at any time. However, the ability to target by context, or review context instances that have encountered flags in your application, is only available for customers in the contexts Early Access Program (EAP). If you want access this feature, [join the EAP](https://launchdarkly.com/eap). If you are not part of the EAP, your application can send user contexts to LaunchDarkly and they will appear on the **Users** list.

Code samples on this page are from the two most recent SDK versions where they differ. To learn more about upgrading, read [Python SDK 7.x to 8.0 migration guide](/sdk/server-side/python/migration-7-to-8).

</CalloutDescription>
</Callout>

## Overview

This topic documents how to get started with the Python SDK, and links to reference information on all of the supported features.

<Callout intent="primary">
<CalloutTitle>SDK quick links</CalloutTitle>
<CalloutDescription>

LaunchDarkly's SDKs are open source. In addition to this reference guide, we provide source, API reference documentation, and sample applications:

<Table>
  <TableHeader>
    <TableHeadCell>Resource</TableHeadCell>
    <TableHeadCell>Location</TableHeadCell>
  </TableHeader>
  <TableBody>
    <TableRow>
      <TableCell>SDK API documentation</TableCell>
      <TableCell><a href="https://launchdarkly-python-sdk.readthedocs.io/">SDK API docs</a></TableCell>
    </TableRow>
    <TableRow>
      <TableCell>GitHub repository</TableCell>
      <TableCell><a href="https://github.com/launchdarkly/python-server-sdk">python-server-sdk</a></TableCell>
    </TableRow>
    <TableRow>
      <TableCell>Sample applications</TableCell>
      <TableCell><a href="https://github.com/launchdarkly/hello-python">Python</a><br/> <a href="https://github.com/launchdarkly/hello-r">R</a></TableCell>
    </TableRow>
    <TableRow>
      <TableCell>Published module</TableCell>
      <TableCell><a href="https://pypi.org/project/launchdarkly-server-sdk/">PyPI</a></TableCell>
    </TableRow>
  </TableBody>
</Table>

</CalloutDescription>
</Callout>

## Getting started

After you complete the [Getting Started process](/home/getting-started), follow these instructions to start using the LaunchDarkly SDK in your Python application.

First, install the LaunchDarkly SDK as a dependency in your application using your application's dependency manager. If you want to depend on a specific version, refer to the [SDK releases page](https://github.com/launchdarkly/python-server-sdk/releases) to identify the latest version.

Here's how:

<CodeTabs
  defaultValue="py"
  values={[
    { label: 'Shell', value: 'py', },
  ]
}>
<CodeTabItem value="py">

```bash
pip install launchdarkly-server-sdk
```

</CodeTabItem>
</CodeTabs>

Next, import the LaunchDarkly client in your application code:

<CodeTabs
  defaultValue="py"
  values={[
    { label: 'Python', value: 'py', },
  ]
}>
<CodeTabItem value="py">

```python
import ldclient
from ldclient.config import Config
```

</CodeTabItem>
</CodeTabs>

After you install and import the SDK, create a single, shared instance of `ldclient`. Specify your SDK key here to authorize your application to connect to a particular environment within LaunchDarkly.

The `get()` function enforces the singleton pattern. You should only have one instance of the client in your application.

<Callout intent="alert">
<CalloutTitle>ldclient must be a singleton</CalloutTitle>
<CalloutDescription>

It's important to make `ldclient` a singleton for each LaunchDarkly project. The client instance maintains internal state that allows LaunchDarkly to serve feature flags without making any remote requests. Do not instantiate a new client with every request.

If you have multiple LaunchDarkly projects, you can create one `LDClient` for each. In this situation, the clients operate independently. For example, they do not share a single connection to LaunchDarkly.

</CalloutDescription>
</Callout>

Only create one instance of `client`.

Here's how:

<CodeTabs
  defaultValue="py"
  values={[
    { label: 'Python', value: 'py', },
  ]
}>
<CodeTabItem value="py">

```python
ldclient.set_config(Config("sdk-key-123abc"))
client = ldclient.get()
```

</CodeTabItem>
</CodeTabs>

You can use `client` to check which variation a particular context will receive for a given feature flag. To learn more, read [Evaluating flags](/sdk/features/evaluating) and [Flag evaluation reasons](/sdk/features/evaluation-reasons). For more information about how contexts are specified, read [User and context configuration](/sdk/features/user-context-config).

In the v8.0 example, the context key is the string "context-key-123abc". In the v7.x example, the user key is the string "user-key-123abc":

<CodeTabs
  defaultValue="python"
  values={[
    { label: 'Python SDK v8.0', value: 'python', },
    { label: 'Python SDK v7.x', value: 'python-v7', },
  ]
}>
<CodeTabItem value="python">

```python
from ldclient import Context

context = Context.builder("context-key-123abc").name("Sandy").build()
flag_value = client.variation("flag-key-123abc", context, False)

if flag_value:
    # application code to show the feature
else:
    # the code to run if the feature is off
```

</CodeTabItem>
<CodeTabItem value="python-v7">

```python
user = {"key": "user-key-123abc"}
flag_value = client.variation("flag-key-123abc", user, False)

if flag_value:
    # application code to show the feature
else:
    # the code to run if the feature is off
```

</CodeTabItem>
</CodeTabs>

## Configuring uWSGI

The LaunchDarkly SDK is compatible with uWSGI. However, there are a few considerations.

First, in uWSGI environments, you must set the `enable-threads` option.

Additionally, you should initialize a new client only after `uwsgi` has forked the worker process. This way your client will accurately reflect flag changes in the forked thread. You can do this using`uwsgidecorators`.

Here's how:

<CodeTabs
  defaultValue="py"
  values={[
    { label: 'Python - uWSGI initialization', value: 'py', },
  ]
}>
<CodeTabItem value="py">

```python
import uwsgidecorators

@uwsgidecorators.postfork
def post_fork_client_initialization():
    ldclient.set_config(LDConfig("sdk-key-123abc"))
    client = ldclient.get()
end

```

</CodeTabItem>
</CodeTabs>

## HTTPS proxy

Python's standard HTTP library provides a built-in HTTPS proxy. If the HTTPS_PROXY environment variable is present, then the SDK will proxy all network requests through the URL provided.

Here's how to set the HTTPS_PROXY environment variable on Mac/Linux systems:

<CodeTabs
  defaultValue="py"
  values={[
    { label: 'Shell', value: 'py', },
  ]
}>
<CodeTabItem value="py">

```bash
export HTTPS_PROXY=https://web-proxy.domain.com:8080
```

</CodeTabItem>
</CodeTabs>

Here's how to set the HTTPS_PROXY environment variable on Windows systems:

<CodeTabs
  defaultValue="windows"
  values={[
    { label: 'cmd', value: 'windows', },
  ]
}>
<CodeTabItem value="windows">

```bash
set HTTPS_PROXY=https://web-proxy.domain.com:8080
```

</CodeTabItem>
</CodeTabs>

Here's how to set the HTTPS_PROXY environment variable from within Python:

<CodeTabs
  defaultValue="py"
  values={[
    { label: 'Python', value: 'py', },
  ]
}>
<CodeTabItem value="py">

```python
os.environ["https_proxy"] = "https://web-proxy.domain.com:8080"
```

</CodeTabItem>
</CodeTabs>

## Shutting down

Lastly, shut down the client when your application terminates. To learn more, read [Shutting down](/sdk/features/shutdown#python).

## Supported features

This SDK supports the following features:

* [Big Segments](/sdk/features/big-segments#python)
* [Configuration](/sdk/features/config#python)
* [Evaluating flags](/sdk/features/evaluating#python)
* [Flag evaluation reasons](/sdk/features/evaluation-reasons#python)
* [Flushing events](/sdk/features/flush#python)
* [Getting all flags](/sdk/features/all-flags#python)
* [Identifying and changing contexts](/sdk/features/identify#python)
* [Logging configuration](/sdk/features/logging#python)
* [Offline mode](/sdk/features/offline-mode#python)
* [Reading flags from a file](/sdk/features/flags-from-files#python)
* [Relay Proxy configuration](/sdk/features/relay-proxy-configuration)
  * [Using proxy mode](/sdk/features/relay-proxy-configuration/proxy-mode#python)
  * [Using daemon mode](/sdk/features/relay-proxy-configuration/daemon-mode#python)
* [Secure mode](/sdk/features/secure-mode#python)
* [Sending custom events](/sdk/features/events#python)
* [Service endpoint configuration](/sdk/features/service-endpoint-configuration#python)
* [Shutting down](/sdk/features/shutdown#python)
* [Storing data](/sdk/features/storing-data#python)
* [Test data sources](/sdk/features/test-data-sources#python)
* [User and context configuration](/sdk/features/user-context-config#python)
* [Web proxy configuration](/sdk/features/web-proxy#python)
